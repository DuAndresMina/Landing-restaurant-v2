---
import Layout from '../layouts/Layout.astro';
import MenuItem from '../components/MenuItem.astro';
import SocialIcon from '../components/SocialIcon.astro';
import { menu, drinks, desserts } from '../data/menu';
---

<Layout title="FastBite - Comida Rápida">
	<main>
		
		<div class="hero glass">
			<div class="logo-container">
				<img src="/Landing-restaurant-v2/public/logo.svg" alt="FastBite Logo" class="logo" />
				<h1>FastBite</h1>
			</div>
			<p class="tagline">Sabor rápido, calidad suprema</p>
		</div>

		<section class="social-bar">
			<SocialIcon platform="facebook" url="https://facebook.com/fastbite" />
			<SocialIcon platform="instagram" url="https://instagram.com/fastbite" />
			<SocialIcon platform="twitter" url="https://twitter.com/fastbite" />
		</section>

		<section class="menu-section" id="menu">
			<h2>Nuestro Menú</h2>
			
			<div class="menu-category glass menu-platos">
				<h3>Platos Principales</h3>
				<div class="menu-grid">
					{menu.map((item, index) => <MenuItem {...item} index={index} />)}
				</div>
			</div>

			<div class="menu-category glass menu-bebidas">
				<h3>Bebidas</h3>
				<div class="menu-grid">
					{drinks.map((item, index) => <MenuItem {...item} index={index} />)}
				</div>
			</div>

			<div class="menu-category glass menu-postres">
				<h3>Postres</h3>
				<div class="menu-grid">
					{desserts.map((item, index) => <MenuItem {...item} index={index} />)}
				</div>
			</div>
		</section>

		<section class="gallery-section">
			<h2>Momentos FastBite</h2>
			<div class="gallery-grid">
				{Array.from({ length: 2 }).map((_, i) => (
					<div class="gallery-item glass" data-index={i}>
						<img src={`/Landing-restaurant-v2/gallery/image${i + 1}.webp`} alt={`Cliente feliz ${i + 1}`} loading="lazy" />
					</div>
				))}
			</div>
		</section>
		
		<div class="modal" id="myModal">
			<span class="close">&times;</span>
			<img class="modal-content" id="img01">
			<div class="caption"></div>
		</div>

		<section class="location-section">
			<h2>Encuéntranos</h2>
			<div class="location-container">
				<div class="map glass">
					<iframe 
						src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3963.952912260219!2d3.375295414770757!3d6.5276316452784755!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x103b8b2ae68280c1%3A0xdc9e87a367c3d9cb!2sLagos!5e0!3m2!1sen!2sng!4v1629784514999!5m2!1sen!2sng"
						style="border:0;" 
						allowfullscreen="" 
						loading="lazy">
					</iframe>
				</div>
				<div class="address glass">
					<h3>Dirección</h3>
					<p>Calle Principal 123</p>
					<p>Ciudad, CP 12345</p>
					<p>Tel: (123) 456-7890</p>
				</div>
			</div>
		</section>
	</main>
</Layout>


<style>

.modal {
    display: none; /* Ocultamos la ventana modal por defecto */
    position: fixed; /* La fijamos en una posición fija */
    z-index: 1; /* La colocamos encima de otros elementos */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; /* Permite el desplazamiento si el contenido es muy grande */
    background-color: rgba(0,0,0,0.9); /* Fondo negro semi-transparente */
}

.modal-content {
    margin: 15% auto;
    display: block;
    width: 80%;
    max-width: 550px;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;   

    cursor: pointer;
}

	main {
		width: 100%;
		color: #ffffff;
		padding: 2rem;
	}

	.hero {
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		margin-bottom: 2rem;
		padding: 2rem;
	}

	.logo-container {
		position: relative;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 1rem;
	}

	.logo {
		width: 150px;
		height: 150px;
		filter: drop-shadow(0 0 20px rgba(255,255,255,0.3));
	}

	h1 {
		font-size: 4rem;
		font-weight: 700;
		background: linear-gradient(135deg, #ff6b6b, #ffd93d);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		animation: gradient 5s ease infinite;
	}

	.tagline {
		font-size: 1.5rem;
		margin-top: 1rem;
		opacity: 0.8;
	}

	.social-bar {
		position: fixed;
		right: 2rem;
		top: 50%;
		transform: translateY(-50%);
		display: flex;
		flex-direction: column;
		gap: 1rem;
		z-index: 100;
	}

	section {
		padding: 5rem 0;
	}

	.menu-category {
		margin-bottom: 3rem;
		padding: 2rem;
	}

	.menu-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 2rem;
		padding: 2rem 0;
		transition: all 0.5s ease;
	}

	h2 {
		text-align: center;
		font-size: 2.5rem;
		margin-bottom: 2rem;
		background: linear-gradient(135deg, #ff6b6b, #ffd93d);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
	}

	h3 {
		font-size: 2rem;
		margin-bottom: 1rem;
		color: #ffd93d;
	}

	.gallery-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 2rem;
	}

	.gallery-item {
		overflow: hidden;
		padding: 0.5rem;
		cursor: pointer;
		transition: all 0.5s ease;
	}

	.gallery-item img {
		width: 100%;
		height: 300px;
		object-fit: cover;
		border-radius: 0.5rem;
		transition: transform 0.3s ease;
	}

	.location-container {
		display: grid;
		grid-template-columns: 2fr 1fr;
		gap: 2rem;
		max-width: 1200px;
		margin: 0 auto;
	}

	.map {
		padding: 0.5rem;
	}

	.map iframe {
		width: 100%;
		height: 400px;
		border-radius: 0.5rem;
	}

	.address {
		padding: 2rem;
	}

	@keyframes gradient {
		0% { background-position: 0% 50%; }
		50% { background-position: 100% 50%; }
		100% { background-position: 0% 50%; }
	}

	@media (max-width: 768px) {
		.location-container {
			grid-template-columns: 1fr;
		}

		.social-bar {
			position: fixed;
			bottom: 2rem;
			right: 2rem;
			top: auto;
			transform: none;
			flex-direction: row;
		}

		main {
			padding: 1rem;
		}

		.hero {
			margin: 0;
			padding: 1rem;
		}

		.menu-category {
			margin: 2rem 0;
			padding: 1rem;
		}
		
	}

	
</style>

<script>
	const galleryItems = document.querySelectorAll('.gallery-item');
const modal = document.getElementById("myModal");
const img = document.getElementById("img01");
const span = document.getElementsByClassName("close")[0];

galleryItems.forEach(item => {
    item.addEventListener('click', () => {
        modal.style.display = "block";
        img.src = item.querySelector('img').src;
    });
});

span.onclick = function() {
  modal.style.display = "none";
}
</script>